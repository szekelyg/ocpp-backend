@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html, body, #root { height: 100%; }
  body { @apply bg-slate-950 text-slate-100; }
}

/* --- Design System (B) --- */
@layer components {
  /* layout */
  .page { @apply min-h-screen; }
  .container { @apply mx-auto max-w-7xl p-6; }
  .stack { @apply space-y-6; }

  .headerRow { @apply flex flex-col gap-4 md:flex-row md:items-center md:justify-between; }
  .title { @apply text-3xl font-semibold tracking-tight; }
  .subtitle { @apply text-sm text-slate-400; }

  .pill { @apply text-sm bg-slate-900 border border-slate-800 px-3 py-1.5 rounded-xl; }

  .grid3 { @apply grid grid-cols-1 xl:grid-cols-3 gap-6; }
  .col2 { @apply xl:col-span-2; }
  .rightCol { @apply space-y-6; }

  /* cards */
  .card { @apply bg-slate-900 border border-slate-800 rounded-2xl shadow-xl overflow-hidden; }
  .cardHeader { @apply px-5 py-4 border-b border-slate-800; }
  .cardTitle { @apply font-medium; }
  .cardSub { @apply text-xs text-slate-400; }
  .cardBody { @apply p-5; }

  /* buttons */
  .btn { @apply inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-medium border transition
               border-slate-700 bg-slate-800 text-slate-100 hover:bg-slate-700
               focus:outline-none focus:ring-2 focus:ring-blue-500/40 disabled:opacity-60 disabled:cursor-not-allowed; }
  .btnPrimary { @apply border-blue-500/50 bg-blue-600 hover:bg-blue-500; }
  .btnGhost { @apply bg-transparent border-slate-700 hover:bg-slate-900; }

  /* form */
  .field { @apply w-full rounded-xl border border-slate-700 bg-slate-800 px-4 py-2.5 text-sm text-slate-100
                 outline-none transition focus:ring-2 focus:ring-blue-500/40; }
  .label { @apply text-xs font-medium text-slate-400; }

  .toolbar { @apply space-y-3; }
  .toolbarRow { @apply flex flex-col gap-2 sm:flex-row sm:items-center; }
  .toolbarLabelRow { @apply flex flex-col gap-2 sm:flex-row sm:items-center; }
  .toolbarLabel { @apply label sm:w-28; }

  /* list */
  .list { @apply flex flex-col gap-3; }
  .listItem { @apply w-full text-left rounded-xl border p-4 transition
                    bg-slate-950/30 border-slate-800 hover:bg-slate-900/60 hover:border-slate-700
                    focus:outline-none focus:ring-2 focus:ring-blue-500/40; }
  .listItemSelected { @apply ring-2 ring-blue-500/30 border-blue-500/40; }
  .listItemTop { @apply flex items-start justify-between gap-3; }
  .listItemTitle { @apply text-sm font-semibold text-slate-100; }
  .listItemMeta { @apply mt-2 text-sm text-slate-300 leading-snug; }
  .listItemMeta2 { @apply text-slate-400; }
  .listItemFoot { @apply mt-3 text-xs text-slate-400; }

  /* selected details */
  .detailGrid { @apply grid grid-cols-3 gap-x-4 gap-y-3 text-sm; }
  .detailKey { @apply text-slate-400; }
  .detailValStrong { @apply col-span-2 font-semibold text-slate-100; }
  .detailVal { @apply col-span-2 text-slate-300; }
  .hint { @apply rounded-xl border border-slate-800 bg-slate-950/30 p-3 text-xs text-slate-400; }
  .actions { @apply flex flex-col gap-2 sm:flex-row; }

  /* map */
  .mapFrame { @apply h-[520px] w-full; }
  .leaflet-container { height: 100%; width: 100%; background: #0b1220; }

  /* badges */
  .badge { @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border; }
  .badgeGood { @apply bg-emerald-900/40 text-emerald-300 border-emerald-700; }
  .badgeOk { @apply bg-sky-900/40 text-sky-300 border-sky-700; }
  .badgeWarn { @apply bg-amber-900/40 text-amber-300 border-amber-700; }
  .badgeBad { @apply bg-rose-900/40 text-rose-300 border-rose-700; }
  .badgeMuted { @apply bg-slate-800 text-slate-400 border-slate-700; }

  /* banners */
  .errorBanner { @apply rounded-2xl border border-red-900/50 bg-red-950/40 px-4 py-3 text-sm text-red-200; }
}